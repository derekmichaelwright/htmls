---
title: "Canadian Crop Production"
subtitle: "Graphs of crop production in Canada using STATCAN data"
summary:  "Graphs of crop production in Canada using STATCAN data"
author: "Derek Michael Wright <wrightmderek@gmail.com> [www.dblogr.com/](https://dblogr.netlify.com/)"
date: "2020-03-01"
categories: [ "agData" ]
tags: [ "agData", "Regions", "Featured" ]
image:
  preview_only: true
links:
  - icon_pack: fas
    icon: chart-line
    name: All Graphs
    url: agdata_graphs/crops_canada
  - icon_pack: far
    icon: file-code
    name: HTML
    url: https://derekmichaelwright.github.io/htmls/agdata/crops_canada.html
  - icon_pack: far
    icon: file-pdf
    name: Save/Print
    url: agdata_pdfs/crops_canada.pdf
  - icon_pack: far
    icon: file-pdf
    name: Canada - Crops
    url: Canada_Crops.pdf
---



<hr />
<pre class="r"><code># devtools::install_github(&quot;derekmichaelwright/agData&quot;)
library(agData) # Loads: tidyverse, ggpubr, ggbeeswarm, ggrepel</code></pre>
<div style="page-break-after: always;"></div>
<div id="farmland-by-province" class="section level1">
<h1>Farmland by Province</h1>
<div id="percentage" class="section level2">
<h2>Percentage</h2>
<pre class="r"><code># Prep data
yy &lt;- agData_STATCAN_Region_Table
xx &lt;- agData_STATCAN_FarmUse_Land %&gt;% 
  filter(Year == 2011, Item == &quot;Total area of farms&quot;, Unit == &quot;Hectares&quot;)
x1 &lt;- xx %&gt;% filter(Area == &quot;Canada&quot;)
xx &lt;- xx %&gt;% filter(Area != &quot;Canada&quot;) %&gt;% 
  mutate(Percent = 100 * Value / x1$Value) %&gt;% 
  arrange(Percent) %&gt;%
  mutate(Area = factor(Area, levels  = rev(Area)),
         Area_Short = plyr::mapvalues(Area, yy$Area, yy$Area_Short))
# Plot
mp &lt;- ggplot(xx, aes(x = Area_Short, y = Percent, fill = Area)) +
  geom_bar(stat = &quot;identity&quot;, color = &quot;black&quot;) +
  scale_fill_manual(values = agData_Colors) +
  theme_agData(legend.position = &quot;none&quot;, rotx = T) +
  labs(title = &quot;Percent of Canadian Farmland (2011)&quot;,
       caption = &quot;\xa9 www.dblogr.com/  |  Data: STATCAN&quot;,
       x = NULL, y = NULL)
ggsave(&quot;crops_canada_01.png&quot;, mp, width = 6, height = 4)</code></pre>
<p><img src="crops_canada_01.png" /></p>
<div style="page-break-after: always;"></div>
</div>
<div id="hectares" class="section level2">
<h2>Hectares</h2>
<pre class="r"><code># What is the total amount of farmland in Canada?
sum(xx$Value)</code></pre>
<pre><code>## [1] 64812722</code></pre>
<pre class="r"><code># Plot
mp &lt;- ggplot(xx, aes(x = Area_Short, y = Value / 1000000, fill = Area)) +
  geom_bar(stat = &quot;identity&quot;, color = &quot;black&quot;) +
  scale_fill_manual(values = agData_Colors) +
  theme_agData(legend.position = &quot;none&quot;, rotx = T) +
  labs(title = &quot;Canadian Farmland (2011)&quot;,
       caption = &quot;\xa9 www.dblogr.com/  |  Data: STATCAN&quot;,
       x = NULL, y = &quot;Million Hectares&quot;)
ggsave(&quot;crops_canada_02.png&quot;, mp, width = 6, height = 4)</code></pre>
<p><img src="crops_canada_02.png" /></p>
<div style="page-break-after: always;"></div>
</div>
</div>
<div id="crop-production" class="section level1">
<h1>Crop Production</h1>
<pre class="r"><code># Create function to determine top crops
cropList &lt;- function(measurement) {
  # Prep data
  xx &lt;- agData_STATCAN_Crops %&gt;% 
    filter(Area == &quot;Canada&quot;, Measurement == measurement, Year %in% c(1908, 1961, 2017)) 
  # Get top 15 crops from each year
  topcrops &lt;- function(x, year) {
    x &lt;- x %&gt;% filter(Year == year) %&gt;% arrange(desc(Value)) %&gt;% 
      pull(Crop) %&gt;% unique() %&gt;% as.character()
  }
  crops1908 &lt;- topcrops(xx, 1908)
  crops1961 &lt;- topcrops(xx, 1961)
  crops2017 &lt;- topcrops(xx, 2017)
  # Order crop list based on 2017 production
  myCrops &lt;- unique(c(crops1908, crops1961, crops2017))
  xx %&gt;% filter(Year == 2017, Crop %in% myCrops) %&gt;%
    arrange(desc(Value)) %&gt;% pull(Crop) %&gt;% as.character()
}</code></pre>
<div style="page-break-after: always;"></div>
<div id="crop-production-1908-1961-2017" class="section level2">
<h2>Crop Production 1908, 1961, 2017</h2>
<pre class="r"><code># Prep data
myCrops &lt;- cropList(measurement = &quot;Production&quot;)
xx &lt;- agData_STATCAN_Crops %&gt;% 
    filter(Area == &quot;Canada&quot;, Year %in% c(1908, 1961, 2017),
           Measurement == &quot;Production&quot;, Crop %in% myCrops) %&gt;%
  mutate(Crop = factor(Crop, levels = myCrops),
         Crop = recode(Crop, &quot;Beans, all dry (white and coloured)&quot; = &quot;Beans, all dry&quot;) )
# Plot
mp &lt;- ggplot(xx, aes(x = Crop, y = Value / 1000000, fill = Crop)) + 
  geom_bar(stat = &quot;identity&quot;, color = &quot;Black&quot;) + 
  facet_grid(Year~.) + 
  scale_fill_manual(values = alpha(agData_Colors, 0.75)) +
  theme_agData(legend.position = &quot;none&quot;, rotx = T) +
  labs(title = &quot;Canada - Crop Production&quot;, y = &quot;Million Tonnes&quot;, x = NULL,
       caption = &quot;\xa9 www.dblogr.com/  |  Data: STATCAN&quot;)
ggsave(&quot;crops_canada_03.png&quot;, mp, width = 6, height = 5)</code></pre>
<p><img src="crops_canada_03.png" /></p>
<div style="page-break-after: always;"></div>
</div>
<div id="crop-area-1908-1961-2017" class="section level2">
<h2>Crop Area 1908, 1961, 2017</h2>
<pre class="r"><code># Prep data
myCrops &lt;- cropList(measurement = &quot;Area seeded&quot;)
xx &lt;- agData_STATCAN_Crops %&gt;% 
    filter(Area == &quot;Canada&quot;, Year %in% c(1908, 1961, 2017),
           Measurement == &quot;Area seeded&quot;, Crop %in% myCrops) %&gt;%
  mutate(Crop = factor(Crop, levels = myCrops),
         Crop = recode(Crop, &quot;Beans, all dry (white and coloured)&quot; = &quot;Beans, all dry&quot;) )
# Plot
mp &lt;- ggplot(xx, aes(x = Crop, y = Value / 1000000, fill = Crop)) + 
  geom_bar(stat = &quot;identity&quot;, color = &quot;Black&quot;) + 
  facet_grid(Year~.) + 
  scale_fill_manual(values = alpha(agData_Colors, 0.75)) +
  theme_agData(legend.position = &quot;none&quot;, rotx = T) + 
  labs(title = &quot;Canada - Area Seeded&quot;, y = &quot;Million Hectares&quot;, x = NULL,
       caption = &quot;\xa9 www.dblogr.com/  |  Data: STATCAN&quot;)
ggsave(&quot;crops_canada_04.png&quot;, mp, width = 6, height = 5)</code></pre>
<p><img src="crops_canada_04.png" /></p>
</div>
</div>
