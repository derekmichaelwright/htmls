---
title: "USA Crop Production"
subtitle: "Graphs for crop production in the USA with USDA data"
summary:  "Graphs for crop production in the USA with USDA data"
author: "Derek Michael Wright <wrightmderek@gmail.com> [www.dblogr.com/](https://dblogr.netlify.com/)"
date: "2020-03-01"
categories: [ "agData" ]
tags: [ "agData", "Regions" ]
image:
  preview_only: true
links: 
  - icon_pack: fas
    icon: chart-line
    name: All Graphs
    url: agdata_graphs/crops_usa
  - icon_pack: far
    icon: file-code
    name: HTML
    url: https://derekmichaelwright.github.io/htmls/agdata/crops_usa.html
  - icon_pack: far
    icon: file-pdf
    name: Save/Print
    url: agdata_pdfs/crops_usa.pdf
---



<hr />
<pre class="r"><code># devtools::install_github(&quot;derekmichaelwright/agData&quot;)
library(agData) # Loads: tidyverse, ggpubr, ggbeeswarm, ggrepel</code></pre>
<div style="page-break-after: always;"></div>
<div id="maize-vs-wheat-yields" class="section level1">
<h1>Maize vs Wheat Yields</h1>
<pre class="r"><code># Prep data
xx &lt;- agData_USDA_Crops %&gt;% 
  filter(Crop %in% c(&quot;Maize&quot;, &quot;Wheat&quot;), Measurement == &quot;Yield&quot;)
x1 &lt;- xx %&gt;% filter(Crop == &quot;Maize&quot;, Year &gt;= 1940)
x2 &lt;- xx %&gt;% filter(Crop == &quot;Wheat&quot;, Year &gt;= 1940)
m1 &lt;- round(summary(lm(data = x1, Value ~ Year))$coefficients[2], 2)
m2 &lt;- round(summary(lm(data = x2, Value ~ Year))$coefficients[2], 2)
xE1 &lt;- xx %&gt;% top_n(-1, Year) %&gt;% pull(Value) %&gt;% round(1)
xE2 &lt;- xx %&gt;% top_n(1, Year) %&gt;% pull(Value) %&gt;% round(1)
# Plot
mp &lt;- ggplot(xx, aes(x = Year, y = Value, color = Crop)) +
  geom_line(size = 1 ) +
  geom_smooth(data = x1, method = &quot;lm&quot;, se = F, color = &quot;Black&quot;) +
  geom_smooth(data = x2, method = &quot;lm&quot;, se = F, color = &quot;Black&quot;) +
  annotate(&quot;text&quot;, x = 1985, y = 4.5, size = 5, label = paste(&quot;m =&quot;, m1) ) +
  annotate(&quot;text&quot;, x = 1985, y = 1,   size = 5, label = paste(&quot;m =&quot;, m2) ) +
  scale_y_continuous(breaks = c(xE1, 2:11), 
                     sec.axis = sec_axis(~ ., breaks = xE2)) +
  scale_x_continuous(breaks = seq(1865, 2015, by = 10)) +
  coord_cartesian(xlim = c(min(xx$Year)+7, max(xx$Year)-7)) +
  scale_color_manual(values = c(&quot;darkgreen&quot;, &quot;darkgoldenrod2&quot;) ) +
  theme_agData(legend.position = &quot;bottom&quot;) +
  labs(title = &quot;Maize and Wheat Yield in the USA&quot;, 
       y = &quot;Tonnes / Hectare&quot;, x = NULL,
       caption = &quot;\xa9 www.dblogr.com/  |  Data: USDA&quot;)
ggsave(&quot;crops_usa_01.png&quot;, mp, width = 6, height = 4)</code></pre>
<p><img src="crops_usa_01.png" /></p>
<div style="page-break-after: always;"></div>
</div>
<div id="major-crops" class="section level1">
<h1>Major Crops</h1>
<pre class="r"><code># Prep data
cols &lt;- c(&quot;antiquewhite4&quot;, &quot;darkgoldenrod2&quot;, &quot;darkblue&quot;, &quot;darkred&quot;, &quot;darkgreen&quot;)
xx &lt;- agData_USDA_Crops %&gt;% 
  filter(Measurement == &quot;Yield&quot;) %&gt;% 
  mutate(Crop = factor(Crop, levels = c(&quot;Oats&quot;,&quot;Wheat&quot;,&quot;Barley&quot;,&quot;Sorghum&quot;,&quot;Maize&quot;)))
x1 &lt;- xx %&gt;% 
  filter(Year %in% c(min(Year), max(Year), 1929)) %&gt;%
  select(Crop, Year, Value) %&gt;% 
  spread(Year, Value)

xE &lt;- xx %&gt;% top_n(1, Year) %&gt;% pull(Value) %&gt;% round(1)
# Plot
mp &lt;- ggplot(xx, aes(x = Year, y = Value, label = Value, color = Crop)) + 
  geom_line() +
  scale_y_continuous(breaks = 1:11, sec.axis = sec_axis(~ ., breaks = xE)) +
  scale_x_continuous(breaks = seq(1865, 2015, 10)) +
  coord_cartesian(xlim = c(min(xx$Year)+5, max(xx$Year)-7)) +
  scale_color_manual(name = NULL, values = cols) +
  theme_agData(legend.position = &quot;bottom&quot;) + 
  labs(title = &quot;USA Crop Yields&quot;,
       x = NULL, y = &quot;tonnes / hectare&quot;,
       caption = &quot;\xa9 www.dblogr.com/  |  Data: USDA&quot;)
ggsave(&quot;crops_usa_02.png&quot;, mp, width = 6, height = 4)</code></pre>
<p><img src="crops_usa_02.png" /></p>
<div style="page-break-after: always;"></div>
</div>
<div id="agricultural-total-factor-productivity" class="section level1">
<h1>Agricultural total factor productivity</h1>
<pre class="r"><code># Prep data
xx &lt;- agData_USDA_TFP %&gt;% 
  filter(Measurement %in% c(&quot;Ag TFP&quot;, &quot;Inputs&quot;, &quot;Output&quot;, &quot;Labor&quot;, &quot;Machinery&quot;),
         Area == &quot;USA&quot; )
# Plot
mp &lt;- ggplot(xx, aes(x = Year, y = Value/1000, color = Measurement)) +
  geom_line() + facet_grid(Measurement~., scales = &quot;free_y&quot;) +
  scale_x_continuous(breaks = seq(1960, 2020, 5)) +
  scale_color_manual(values = rev(cols)) +
  theme_agData(legend.position = &quot;none&quot;, rotx = T)
ggsave(&quot;crops_usa_03.png&quot;, mp, width = 6, height = 6)</code></pre>
<p><img src="crops_usa_03.png" /></p>
</div>
