---
title: "World Maize Production"
subtitle: "Graphs of maize yields using FAO data"
date: "2020-09-01"
author: "Derek Michael Wright <wrightmderek@gmail.com> [www.dblogr.com/](https://dblogr.netlify.com/) [-Image Gallery-](https://dblogr.netlify.app/graphs_agdata/maize/)"

categories: [ "agData" ]
tags: [ "agData", "Maize" ]
image:
  preview_only: true
links:
  - icon_pack: fas
    icon: chart-line
    name: All Graphs
    url: agdata_graphs/maize
  - icon_pack: far
    icon: file-code
    name: HTML
    url: https://derekmichaelwright.github.io/htmls/agdata/maize.html
  - icon_pack: far
    icon: file-pdf
    name: PDF (Save/Print)
    url: agdata_pdfs/maize.pdf
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = T, message = F, warning = F, out.width = "100%")
```

---

```{r}
# devtools::install_github("derekmichaelwright/agData")
library(agData) # Loads: tidyverse, ggpubr, ggbeeswarm, ggrepel
```

# Yields

```{r}
# Prep data
xx <- agData_FAO_Crops %>% 
  filter(Crop == "Maize", Measurement == "Yield",
         Area %in% agData_FAO_Country_Table$SubRegion) %>%
  left_join(agData_FAO_Country_Table, by = c("Area"="SubRegion")) %>%
  arrange(Region) %>%
  mutate(Area = factor(Area, levels = unique(Area)))
# Plot
mp <- ggplot(xx, aes(x = Year, y = Value)) + 
  geom_smooth(aes(color = Region, group = Area), method = "loess", se = F) +
  scale_color_manual(values = agData_Colors) + 
  scale_x_continuous(breaks = seq(1960, 2015, by = 5), expand = c(0,0) ) +
  theme_agData(rotx = T) +
  labs(title = "Maize Yields by SubRegions", y = "Tonnes / Hectare", x = NULL,
       caption = "\xa9 www.dblogr.com/  |  Data: FAOSTAT")
ggsave("maize_01.png", mp, width = 6, height = 4)
```

```{r echo = F}
ggsave("../../../myblog/content/graphs_agdata/maize/gallery/gallery/maize_01.png", mp, width = 6, height = 4)
```

![](maize_01.png)

# Yields by Country

```{r}
# Plot
mp <- ggplot(xx, aes(x = Year, y = Value, color = Region) ) +
    geom_line() +
  facet_wrap(Area~., ncol = 5) +
  scale_color_manual(values = agData_Colors) +
  scale_x_continuous(breaks = seq(1965, 2015, by = 10) ) +
  scale_y_continuous(breaks = c(2, 4, 6, 8, 10)) +
  theme_agData(legend.position = "none", rotx = T) +
  labs(title = "Maize Yields", y = "Tonnes / Hectare", x = NULL,
       caption = "\xa9 www.dblogr.com/  |  Data: FAOSTAT")
ggsave("maize_02.png", mp, width = 6, height = 4)
```

```{r echo = F}
ggsave("../../../myblog/content/graphs_agdata/maize/gallery/gallery/maize_02.png", mp, width = 6, height = 4)
```

![](maize_02.png)

# USA, Germany, Mexico and Africa

```{r}
# Prep data
areas <- c("USA", "Germany", "Mexico", "Africa")
xx <- agData_FAO_Crops %>%
  filter(Crop == "Maize", Measurement == "Yield", Area %in% areas) %>%
  mutate(Area = factor(Area, levels = areas) )
xE <- xx %>% top_n(1, Year) %>% pull(Value) %>% round(1)
# Plot
mp <- ggplot(xx, aes(x = Year, y = Value, color = Area)) +
  geom_line(size = 1.5) +
  
  scale_color_manual(values = c("darkcyan", "darkgoldenrod2", "darkred", "darkgreen")) + 
  scale_x_continuous(breaks = seq(1865, 2015, by = 10), expand = c(0, 0)) +
  scale_y_continuous(sec.axis = sec_axis(~ ., breaks = xE)) +
  theme_agData(legend.position = "bottom") +
  labs(title   = "Maize Yields - Developed vs Developing World",
       caption = "Data: \xa9 www.dblogr.com/  |  FAOSTAT",
       y = "Tonnes / Hectare", x = NULL)
ggsave("maize_03.png", mp, width = 6, height = 4)
```

```{r echo = F}
ggsave("../../../myblog/content/graphs_agdata/maize/gallery/gallery/maize_03.png", mp, width = 6, height = 4)
ggsave("../../../myblog/content/posts_agdata/maize/featured.png", mp, width = 6, height = 4)
```

![](maize_03.png)

# South Africa, Nigeria and Zimbabwe

```{r}
# Prep data
areas <- c("South Africa", "Nigeria", "Zimbabwe")
xx <- agData_FAO_Crops %>%
  filter(Crop == "Maize", Area %in% areas, Measurement == "Yield" ) %>%
  mutate(Area = factor(Area, levels = areas) )
xE <- xx %>% top_n(1, Year) %>% pull(Value) %>% round(1)
# Plot
mp <- ggplot(xx, aes(x = Year, y = Value, color = Area)) +
  geom_line(size = 1.5) +
  theme_agData() +
  theme(legend.position = "bottom") +
  scale_color_manual(values = c("darkgoldenrod2", "Dark Red", "Dark Green")) + 
  scale_x_continuous(breaks = seq(1865, 2015, by = 10), expand = c(0, 0)) +
  scale_y_continuous(sec.axis = sec_axis(~ ., breaks = xE)) +
  labs(title   = "Maize Yields - Africa",
       caption = "\xa9 www.dblogr.com/  |  Data: FAOSTAT",
       y = "Tonnes / Hectare", x = NULL)
ggsave("maize_04.png", mp, width = 6, height = 4)
```

```{r echo = F}
ggsave("../../../myblog/content/graphs_agdata/maize/gallery/gallery/maize_04.png", mp, width = 6, height = 4)
```

![](maize_04.png)

# Country PDF

```{r eval = F}
#Prep data
xx <- agData_FAO_Crops %>% 
  filter(Crop == "Maize", Area %in% agData_FAO_Country_Table$Country) %>%
  mutate(Value = ifelse(Measurement %in% c("Area harvested","Production"),
                        Value / 1000000, Value),
         Unit = plyr::mapvalues(Unit, c("hectares","tonnes"), 
                        c("Million hectares","Million tonnes")))
# Plot
pdf("maize_fao.pdf", width = 12, height = 4)
for(i in unique(xx$Area)) {
  print(ggplot(xx %>% filter(Area == i)) +
    geom_line(aes(x = Year, y = Value, color = Measurement)) +
    facet_wrap(.~Measurement + Unit, ncol = 3, scales = "free_y") +
    theme_agData(legend.position = "none", rotx = T) +
    scale_color_manual(values = agData_Colors) +
    scale_x_continuous(breaks = seq(1960, 2015, by = 5) ) +
    labs(title = i, y = NULL, x = NULL,
         caption = "\xa9 www.dblogr.com/  |  Data: FAOSTAT") )
}
dev.off()
```

![](maize_fao_pdf.png)

[**PDF**: Maize production by country.](https://github.com/derekmichaelwright/htmls/raw/master/agdata/maize/maize_fao.pdf)
